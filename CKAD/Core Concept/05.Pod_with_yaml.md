# ğŸ§© Creating a Pod Using a YAML Configuration File in Kubernetes

In this lecture, weâ€™ll learn how to **create a Pod using a YAML-based configuration file** in Kubernetes.
In the previous lecture, we discussed YAML files in general. Now, letâ€™s focus on how **YAML is used specifically in Kubernetes**.

Kubernetes uses YAML files as input to create and manage objects such as **Pods**, **ReplicaSets**, **Deployments**, and **Services**.
Although each object serves a different purpose, all Kubernetes definition files follow a **similar structure**.

---

## ğŸ§± Structure of a Kubernetes YAML File

Every Kubernetes definition file contains **four required top-level fields**:

1. **apiVersion**
2. **kind**
3. **metadata**
4. **spec**

These are the **root properties** of every Kubernetes manifest.
Letâ€™s break down each of them.

---

### 1ï¸âƒ£ `apiVersion`

This field defines **which version of the Kubernetes API** you are using to create the object.
Depending on the type of object, you must specify the correct version.

For example:

```yaml
apiVersion: v1
```

Since weâ€™re working with **Pods**, the `apiVersion` should be set to **v1**.
Other objects may use versions like:

* `apps/v1` (for Deployments, ReplicaSets)
* `extensions/v1beta1` (legacy)

Weâ€™ll explore more about API versions later in this course.

---

### 2ï¸âƒ£ `kind`

The `kind` field specifies the **type of object** you are creating.
In this case:

```yaml
kind: Pod
```

Other examples include:

* `Deployment`
* `Service`
* `ReplicaSet`

---

### 3ï¸âƒ£ `metadata`

The `metadata` section contains **information about the object** such as its name, labels, and other identifying details.

Example:

```yaml
metadata:
  name: myapp-pod
  labels:
    app: myapp
```

A few key points to remember about YAML indentation here:

* The **number of spaces** before each property doesnâ€™t matter as long as **sibling elements** are aligned properly.
* Each child property should be **indented more** than its parent.
* Incorrect indentation will cause **YAML parsing errors**.

For example:
âœ… Correct:

```yaml
metadata:
  name: myapp-pod
  labels:
    app: myapp
```

âŒ Incorrect (labels not properly indented):

```yaml
metadata:
name: myapp-pod
labels:
app: myapp
```

The **`name`** property is a string â€” this becomes your Podâ€™s name.
The **`labels`** property is a dictionary â€” you can define **key-value pairs** to help identify and group your objects later.

Example label usage:

```yaml
labels:
  tier: frontend
  env: production
```

Labels are extremely useful for filtering and organizing objects.
For instance, you can easily find all Pods labeled as â€œfrontendâ€ or â€œdatabaseâ€ later using:

```bash
kubectl get pods -l tier=frontend
```

**Note:**
Under `metadata`, you can only include fields that Kubernetes recognizes (e.g., `name`, `labels`, `namespace`).
You cannot add custom properties directly under `metadata`.

---

### 4ï¸âƒ£ `spec`

The `spec` (short for **specification**) defines **what you want Kubernetes to do** â€” this section varies depending on the type of object being created.

For a **Pod**, the `spec` contains the configuration for one or more containers.

Example:

```yaml
spec:
  containers:
    - name: nginx-container
      image: nginx
```

Hereâ€™s whatâ€™s happening:

* `containers` is a **list (array)** because a Pod can contain multiple containers.
* Each list item starts with a **dash (`-`)**.
* Each container entry has at least two properties:

  * **`name`** â€” a logical name for the container.
  * **`image`** â€” the Docker image to use (in this case, `nginx` from Docker Hub).

---

## ğŸ§¾ Complete Pod YAML Example

Hereâ€™s what the full YAML file looks like:

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: myapp-pod
  labels:
    app: myapp
spec:
  containers:
    - name: nginx-container
      image: nginx
```

Save this file as **`pod-definition.yaml`**.

---

## âš™ï¸ Creating a Pod

Once your YAML file is ready, use the following command to create the Pod:

```bash
kubectl create -f pod-definition.yaml
```

Kubernetes will read the file and create the Pod based on your configuration.

---

## ğŸ” Viewing and Describing Pods

To check if your Pod has been created successfully:

```bash
kubectl get pods
```

This lists all Pods in your current namespace along with their status (e.g., **Running**, **Pending**, **CrashLoopBackOff**, etc.).

To view **detailed information** about a specific Pod:

```bash
kubectl describe pod myapp-pod
```

This command provides:

* The Podâ€™s creation timestamp
* Assigned labels and namespace
* Container details (image, ports, environment variables)
* Node assignment
* Events (such as image pull, scheduling, or failures)

---

## ğŸ§  Summary

Letâ€™s recap what weâ€™ve learned:

* Kubernetes YAML files use **four root fields**:

  1. `apiVersion` â€“ defines the API version.
  2. `kind` â€“ specifies the type of object.
  3. `metadata` â€“ provides identifying data like name and labels.
  4. `spec` â€“ defines the configuration and behavior of the object.

* Indentation and structure in YAML are **crucial** â€” incorrect spacing can cause errors.

* Pods can have **multiple containers**, defined under the `containers` list.

* You can create a Pod using:

  ```bash
  kubectl create -f <filename>.yaml
  ```

* View Pod details using:

  ```bash
  kubectl get pods
  kubectl describe pod <pod-name>
  ```

---

ğŸ¯ **Next Step:**
Weâ€™ll move on to a hands-on demo to see how a Pod is created and managed in a real Kubernetes environment.

---
