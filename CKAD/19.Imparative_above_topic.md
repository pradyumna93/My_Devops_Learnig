# ðŸ“˜ **Kubernetes Practical & Theory Q&A Set**

---

## ðŸ§© **1. Deploy a Redis pod using the redis:alpine image with the label `tier=db`**

**Command:**

```bash
kubectl run redis --image=redis:alpine --labels="tier=db"
```

âœ… **Explanation:**

* `kubectl run` â†’ creates a **pod**.
* `--labels` â†’ adds a custom label `tier=db` for selection by services or deployments.

---

## ðŸ§© **2. Create a Service named redis-service to expose existing redis pod within the cluster on port 6379**

**Command:**

```bash
kubectl expose pod redis --name=redis-service --port=6379 --target-port=6379
```

âœ… **Explanation:**

* Creates a **ClusterIP service** (default type).
* Exposes the `redis` pod on port `6379` internally within the cluster.

To verify:

```bash
kubectl get svc
```

---

## ðŸ§© **3. Create a Deployment named webapp using image nginx with 3 replicas**

**Command:**

```bash
kubectl create deployment webapp --image=nginx --replicas=3
```

âœ… **Explanation:**

* Creates a **Deployment** object managing **3 nginx pods**.
* Provides rolling updates, scaling, and self-healing.

To confirm:

```bash
kubectl get deploy
kubectl get pods -l app=webapp
```

---

## ðŸ§© **4. Create a new Pod called custom-nginx using image nginx and run it on container port 8080**

**Command:**

```bash
kubectl run custom-nginx --image=nginx --port=8080
```

âœ… **Explanation:**

* The `--port` flag specifies the **container port** exposed by the pod.

Check the pod:

```bash
kubectl get pods
kubectl describe pod custom-nginx
```

---

## ðŸ§© **5. Create a Namespace named dev-ns**

**Command:**

```bash
kubectl create namespace dev-ns
```

âœ… **Explanation:**

* Namespaces logically isolate workloads and resources within a cluster.

To verify:

```bash
kubectl get ns
```

---

## ðŸ§© **6. Create a Deployment called redis-deploy in the dev-ns namespace using the redis image with 2 replicas**

**Command:**

```bash
kubectl create deployment redis-deploy --image=redis --replicas=2 -n dev-ns
```

âœ… **Explanation:**

* Deploys two Redis pods within the `dev-ns` namespace.

Check:

```bash
kubectl get deploy -n dev-ns
kubectl get pods -n dev-ns
```

---

## ðŸ§© **7. Create a Pod named httpd using image httpd:alpine in the default namespace. Then create a Service of type ClusterIP named http that exposes the pod on port 80**

### Step 1 â€” Create Pod

```bash
kubectl run httpd --image=httpd:alpine
```

### Step 2 â€” Create Service

```bash
kubectl expose pod httpd --name=http --port=80 --target-port=80 --type=ClusterIP
```

âœ… **Explanation:**

* The **ClusterIP service** exposes the pod on an internal IP and port `80`.

Verify:

```bash
kubectl get svc
```

---

## ðŸ§© **8. Which command would you use to display a list of all available API resources in your cluster?**

**Command:**

```bash
kubectl api-resources
```

âœ… **Explanation:**
This command lists **all API resources** supported by the cluster, along with:

* Their **short names**
* **API groups**
* Whether they are **namespaced or cluster-wide**
* The **kind** of each resource

---

## ðŸ§© **9. Which command do you use to get description and details of the pod resource?**

**Command:**

```bash
kubectl describe pod <pod-name>
```

âœ… **Explanation:**
Displays:

* Pod **status**
* **Events**
* **Containers**, images, ports
* **Labels**, selectors, and more
  Used for **troubleshooting** and understanding detailed pod behavior.

---

## ðŸ§© **10. When writing a YAML manifest for a Pod, you want to understand what fields are available under `containers`. Which command would you use to explore the structure of the container field?**

**Command:**

```bash
kubectl explain pod.spec.containers
```

âœ… **Explanation:**

* `kubectl explain` helps explore **Kubernetes API schema**.
* Shows all available **fields, descriptions, and subfields** for any resource.

To explore deeper:

```bash
kubectl explain pod.spec.containers.ports
```

---

## ðŸ§© **11. Explain `--recursive` in kubectl**

âœ… **Answer:**
The `--recursive` flag is used when applying or deleting manifests **from a directory** that contains **multiple YAML files or nested folders**.

**Example:**

```bash
kubectl apply -f ./manifests --recursive
```

âœ… **Explanation:**

* Searches all subdirectories for YAML/JSON files.
* Useful when deploying **multiple components** (e.g., deployments, services, configmaps) stored in folder structure.

Without `--recursive`, only the top-level files are applied.

---

## ðŸ“˜ **Quick Summary Table**

| Task                       | Command                                                                                     | Notes                         |
| -------------------------- | ------------------------------------------------------------------------------------------- | ----------------------------- |
| Deploy Redis Pod           | `kubectl run redis --image=redis:alpine --labels="tier=db"`                                 | Label added                   |
| Create Redis Service       | `kubectl expose pod redis --name=redis-service --port=6379`                                 | ClusterIP                     |
| Nginx Deployment           | `kubectl create deployment webapp --image=nginx --replicas=3`                               | 3 replicas                    |
| Custom Nginx Pod           | `kubectl run custom-nginx --image=nginx --port=8080`                                        | Port 8080                     |
| Namespace                  | `kubectl create namespace dev-ns`                                                           | New namespace                 |
| Redis Deployment in dev-ns | `kubectl create deployment redis-deploy --image=redis --replicas=2 -n dev-ns`               | Namespace specific            |
| Httpd Pod + Service        | `kubectl run httpd --image=httpd:alpine` â†’ `kubectl expose pod httpd --name=http --port=80` | ClusterIP                     |
| API Resources              | `kubectl api-resources`                                                                     | Lists all supported kinds     |
| Pod Details                | `kubectl describe pod <pod-name>`                                                           | Detailed info                 |
| Explore YAML fields        | `kubectl explain pod.spec.containers`                                                       | Schema                        |
| Recursive flag             | `--recursive`                                                                               | Apply all YAMLs in subfolders |

---
